Состав комплекса
================

Комплекс состоит из виртуальных машин выполняющих функции:

1. базы данных;
2. сервера приложений;
3. sip-сервера;
4. веб-сервера.

В качестве операционной системы в виртуальных машинах используется CentOS 7 x64 с установленным прогаммым обеспечением реализующем требуюму функцию. Если несказано отдельно, то везде используется продукты с открытым исходным кодом. Более подробное описание каждого типа виртуальных машин приведено ниже по тексту.

**Базы данных**
В качестве базы данных используется продукт `Link CouchDB <http://couchdb.apache.org/>`_ .

DDDD
Каждый из типов представлен двумя виртуальными машинами. Перечень виртуальных машин представлен в таблице ниже.

.. table:: Перечень виртуальных машин

  =====================   =====================  =========================
  Наименование сервера    DNS имя                IPv6 адрес             
  =====================   =====================  =========================
  база данных, сервер 1   couch1.db.rcsnet.ru    fd75:9fac:a7b1:92:6c::901
  база данных, сервер 2   couch2.db.rcsnet.ru1   fd75:9fac:a7b1:92:6c::902
  сервер приложений 1     kazoo1.app.rcsnet.ru   fd75:9fac:a7b1:92:6c::801
  сервер приложений 2     kazoo2.app.rcsnet.ru   fd75:9fac:a7b1:92:6c::802
  sip-сервер 1            fs1.voip.rcsnet.ru     fd75:9fac:a7b1:92:6c::601
  sip-сервер 2            fs1.voip.rcsnet.ru     fd75:9fac:a7b1:92:6c::601
  веб-сервер 1            nginx1.http.rcsnet.ru  fd75:9fac:a7b1:92:6c::601
  веб-сервер 2            nginx2.http.rcsnet.ru  fd75:9fac:a7b1:92:6c::601
  =====================   =====================  =========================

Вирутальные машины базы данных, sip-сервера и веб-сервера организованны в кластера высокой доступности на базе технологии "плавающего IP адреса" (shared IP).

dddddd


"Плавающие" IP адреса
-------------------------------

+----------------------+---------------------+--------------------------+-------------+
| Наименование сервера |    DNS имя          |    IPv6 адрес            | IPv4 адрес  |
+======================+=====================+==========================+=============+
| база данных, сервер 1| couch.db.rcsnet.ru  | fd75:9fac:a7b1:92:6c::900|             |
+----------------------+---------------------+--------------------------+-------------+
| sip-сервер           | pbx.rcsnet.ru       |                          |91.103.196.13|
+----------------------+---------------------+--------------------------+-------------+



